# 校历接口

根据当前登陆用户, 当前的调用时间, 获取当前学期校历的接口

- url:api/school/calendar

-  请求数据

| 参数名       | 是否必须     | 参数类型  | 说明 |
| -------- |:----------:| -----:   | ----- |
| school  | NO      | int|string      | 可选参数, 学校的 ID 或名称 |
| year  | NO      | int|string      | 可选参数, 哪一年. 不提供则使用当前年 |
| month  | NO      | int|string      | 可选参数, 哪一月, 不提供则使用当前月 |

- 请求参数说明: 可以提交学校的 id 或者名称进行查询. 如果未提供, 则以当前登陆用户的信息为准, 获取该用户所在学校的校历信息
- 后台根据 APP 端提供的年月, 返回
  - 每次都返回至少 5 周的数据
  - 起始日期是当月第一天所在周的周一
  - 结束日期是当月最后一天所在周的周末

- 响应数据

``` json
{
    "code": 1000,
    "message": "OK",
    "data": {
        "weeks": [
            {
                "current": 0,           // 根据今天的日期, 表示是否为当前周. 1 表示是当前周, 0 表示不是
                "name": "预备周",
                "start": "2019-08-26", // 永远是周一
                "end": "2019-09-01"   // 永远是周日
            },
            {
                "current": 0,
                "name": "第1周",
                "start": "2019-09-02", // 永远是周一
                "end": "2019-09-08"    // 永远是周日
            }
        ],
        "days": [
            {
                "name": "2019-08-26",
                "week_idx":"第 1 周",
                "events": [
                    {
                        "id": 3,
                        "tag": [
                            "开学日"
                        ],
                        "content": "开学典礼",
                        "name": "2019-08-26",
                        "week_idx":"第 1 周"
                    },
                    {
                        "id": 4,
                        "tag": [
                            "迎新",
                            "卫生日"
                        ],
                        "content": "迎新大扫除",
                        "name": "2019-08-26",
                        "week_idx":"第 1 周"
                    }
                ]
            },{
                "name": "2019-08-27",
                "week_idx":"第 1 周",
                "events": []
            }
        ]
    }
}
```

- url:api/school/all-events

-  请求数据

| 参数名       | 是否必须     | 参数类型  | 说明 |
| -------- |:----------:| -----:   | ----- |
| school  | NO      | int|string      | 可选参数, 学校的 ID 或名称 |

- 请求参数说明: 可以提交学校的 id 或者名称进行查询. 如果未提供, 则以当前登陆用户的信息为准, 获取该用户所在学校的校历信息

- 响应数据

``` json
{
    "code": 1000,
    "message": "OK",
    "data": {
        "events": [
            {
                "id": 3,
                "tag": [
                    "开学日"
                ],
                "content": "开学典礼",
                "event_time": "2019-09-02",
                "week_idx":"第 1 周"
            },
            {
                "id": 4,
                "tag": [
                    "迎新",
                    "卫生日"
                ],
                "content": "迎新大扫除",
                "event_time": "2019-09-04",
                "week_idx":"第 1 周"
            }
        ]
    }
}
```